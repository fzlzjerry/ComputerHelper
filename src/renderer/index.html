<!DOCTYPE html>
<html lang="zh-CN" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>网络控制工具</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Fira+Code&display=swap" rel="stylesheet">
</head>
<body>
  <div class="app-container">
    <header>
      <div>
        <h1 class="title">网络控制工具</h1>
        <p class="subtitle">快速管理您的网络连接</p>
      </div>
      <div class="header-controls">
        <button id="theme-toggle-btn" class="button theme-button" aria-label="切换主题">
          <svg id="theme-icon" viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path class="sun-icon" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
            <path class="moon-icon hidden" d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z" />
          </svg>
          <span class="sr-only">切换主题</span>
        </button>
        <button id="minimize-btn" class="button icon-button" aria-label="最小化到系统托盘">
          <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M19 14l-7 7-7-7"/>
          </svg>
          <span class="sr-only">最小化</span>
        </button>
      </div>
    </header>

    <main>
      <div class="main-content">
        <section class="card network-card fade-in">
          <div class="network-status">
            <div id="network-status-dot" class="status-dot"></div>
            <span id="network-status-text" class="status-text">正在检测网络状态...</span>
          </div>
          
          <div class="button-group">
            <button id="toggle-network-btn" class="button button-danger" aria-label="断开网络连接">
              <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M18 6L6 18M6 6l12 12" />
              </svg>
              <span>断开网络</span>
            </button>
            <button id="repair-btn" class="button button-success" aria-label="修复网络问题">
              <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 2v4m0 12v4M4.93 4.93l2.83 2.83m8.48 8.48l2.83 2.83M2 12h4m12 0h4M4.93 19.07l2.83-2.83m8.48-8.48l2.83-2.83" />
              </svg>
              <span>网络修复</span>
            </button>
          </div>
        </section>

        <section id="network-repair-section" class="card repair-section-card hidden fade-in">
          <div class="card-header">
            <h2>网络修复工具</h2>
            <button id="close-repair-btn" class="button icon-button" aria-label="关闭修复面板">
              <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M18 6L6 18M6 6l12 12" />
              </svg>
            </button>
          </div>

          <div class="repair-section">
            <div class="repair-card" id="basic-repair-btn" tabindex="0">
              <h3 class="repair-title">基本修复</h3>
              <p class="repair-description">执行基本的网络重置和刷新操作</p>
            </div>
            <div class="repair-card" id="dns-repair-btn" tabindex="0">
              <h3 class="repair-title">DNS修复</h3>
              <p class="repair-description">刷新DNS缓存并重置DNS设置</p>
            </div>
            <div class="repair-card" id="ip-repair-btn" tabindex="0">
              <h3 class="repair-title">IP修复</h3>
              <p class="repair-description">更新IP地址并重置网络配置</p>
            </div>
            <div class="repair-card" id="advanced-repair-btn" tabindex="0">
              <h3 class="repair-title">高级修复</h3>
              <p class="repair-description">执行全面的网络系统修复</p>
            </div>
          </div>

          <div class="button-group">
            <button id="run-diagnostics-btn" class="button button-primary" aria-label="运行网络诊断">
              <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0z" />
                <path d="M12 8v4l3 3" />
              </svg>
              <span>运行诊断</span>
            </button>
          </div>

          <div id="repair-status" class="diagnostics-section hidden">
            <div class="status-indicator">
              <div class="loading-spinner"></div>
              <p id="repair-status-message"></p>
            </div>
          </div>

          <div id="repair-result" class="diagnostics-section hidden">
            <p id="repair-result-message"></p>
          </div>

          <div id="diagnostics-section" class="diagnostics-section hidden">
            <pre id="diagnostics-output" class="diagnostics-output"></pre>
          </div>
        </section>
      </div>
    </main>
  </div>
  <script src="index.js"></script>
</body>
</html>
